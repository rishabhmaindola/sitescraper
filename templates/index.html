<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Scraper API</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"  href="{{ url_for('static', filename='styles/style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Scraper</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#overview">Overview</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#endpoints">Endpoints</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#faq">FAQs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="container" id="overview">
        <h3>Overview</h3>

        <div class="container">
            <h4>Features</h4>
            <p>This API allows users to scrape text data from web pages, gather information about websites, and retrieve
                sitemaps. It supports the following operations:</p>
            <ol>
                <li>Fetch the body text of a specific web page.</li>
                <li>Crawl a website to retrieve all URLs within the same domain.</li>
                <li>Extract all data from every page within a website.</li>
            </ol>
        </div>

        <div class="container">
            <h4>Tech</h4>
            <p>This Web-Scraper is built by using the following technologies:- </p>
            <ol>
                <li><a href="https://www.python.org/doc/" target="_blank" rel="noopener noreferrer">Python</a></li>
                <li><a href="https://flask.palletsprojects.com/en/3.0.x/" target="_blank"
                        rel="noopener noreferrer">Flask</a></li>
                <li><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank"
                        rel="noopener noreferrer">Beautiful Soup</a></li>
            </ol>
        </div>

        <div class="container">
            <h4>Implementation Details</h4>
            <p>Python Functions</p>
            <ul>
                <li><strong>extract_body_text<em>(url)</em>:</strong> Fetches and returns the body text of the specified URL.</li>
                <li><strong>crawl<em>(base_url)</em>:</strong> Crawls the specified URL and returns a list of all found URLs within the same domain.</li>
                <li><strong>extract_all_data<em>(base_url)</em>:</strong> Crawls the base URL and extracts the body text from every page within the domain.</li>
            </ul>
        </div>

        <div class="container">
            <h4>Base URL</h4>
                <code class="shadow-sm p-3 m-5 bg-dark text-white rounded float-start ">
                    base url : https://127.0.0.1/
                </code>
        </div>
    </section>

    <section class="container" id="endpoints">
        <h3>Endpoints</h3>
        <div class="card" id="getsitemap">
            <h4>1.Get Sitemap</h4>
            <table class="table table-borderless">
                <tr>
                    <th class="card-title">Endpoint Url</th>
                    <th>HTTP Method</th>
                    <th>Rate Limit</th>
                    <th>Query Parameter</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>`/get-sitemap`</td>
                    <td class="text-primary-emphasis"><strong>GET</strong></td>
                    <td>10 reqs/min</td>
                    <td><strong>`url` <em>(string)</em>:</strong> The URL of the website to crawl.</td>
                    <td>Retrieves all URLs within the same domain as the provided URL.</td>
                </tr>
            </table>

            <table class="table table-borderless">
                <tr>
                    <th>Response</th>
                </tr>
                <tr>
                    <td>
                        <ul class="list-group list-group-horizontal ">
                            <li class="list-group-item bg-dark">
                                <p class="text-white "><span
                                        class="badge text-bg-success px-3 py-2"><strong>Success:</strong></span>
                                    JSON object containing the crawled URLs</p>
                                <pre>
                               <code class="text-white">
{
    "crawled_urls": [
        "http://example.com/page1",
        "http://example.com/page2",
         ...
        ]
}
                                </code>
                            </pre>
                            </li>
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-danger px-3 py-2"><strong>Error:</strong></span> JSON
                                    object with an error message</p>
                                <pre>
                           <code class="text-white">
{
    "error": "Please provide a URL parameter in the query."
}                              
                            </code>
                        </pre>
                            </li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>

        <div class="card" id="getdata">
            <h4>2.Get Data</h4>
            <table class="table table-borderless">
                <tr>
                    <th class="card-title">Endpoint Url</th>
                    <th>HTTP Method</th>
                    <th>Rate Limit
                    <th>Query Parameter</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>`/get-data`</td>
                    <td class="text-primary-emphasis"><strong>GET</strong></td>
                    <td>10 reqs/min</td>
                    <td><strong>`url` <em>(string)</em>:</strong> The URL of the web page to fetch data from.</td>
                    <td>Extracts the body text from the specified URL.</td>
                </tr>
            </table>
            <table class="table table-borderless">
                <tr>
                    <th>Response</th>
                </tr>
                <tr>
                    <td>
                        <ul class="list-group list-group-horizontal">
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-success px-3 py-2"><strong>Success:</strong></span> JSON
                                    object containing the body text.</p>
                                <pre>
                               <code class="text-white">
{
  "body_text": "Extracted body text from the website..."
}
                                </code>
                            </pre>
                            </li>
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-danger px-3 py-2"><strong>Error:</strong></span> JSON
                                    object with an error message.</p>
                                <pre>
                           <code class="text-white">
{
    "error": "Please provide a URL parameter in the query."
}                              
                            </code>
                        </pre>
                            </li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>

        <div class="card" id="getall">
            <h4>3.Get All</h4>
            <table class="table table-borderless">
                <tr>
                    <th class="card-title">Endpoint Url</th>
                    <th>HTTP Method</th>
                    <th>Rate Limit</th>
                    <th>Query Parameter</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>`/get-data`</td>
                    <td class="text-primary-emphasis"><strong>GET</strong></td>
                    <td>10 reqs/min</td>
                    <td><strong>`url` <em>(string)</em>:</strong> The base URL of the website to crawl.</td>
                    <td>Crawls the website and retrieves the body text from every page within the same domain.</td>
                </tr>
            </table>
            <table class="table table-borderless">
                <tr>
                    <th>Response</th>
                </tr>
                <tr>
                    <td>
                        <ul class="list-group list-group-horizontal">
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-success px-3 py-2"><strong>Success:</strong></span> JSON
                                    object containing all extracted data.</p>
                                <pre>
                               <code class="text-white">
{
    "website_data": {
    "body_text": "Extracted body text...",
        "links": [
        "http://example.com/page1",
        "http://example.com/page2",
        ...
        ]
    }
}                                  
                                </code>
                            </pre>
                            </li>
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-danger px-3 py-2"><strong>Error:</strong></span> JSON
                                    object with an error message.</p>
                                <pre>
                           <code class="text-white">
{
    "error": "Please provide a URL parameter in the query."
}                              
                            </code>
                        </pre>
                            </li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>


        <div class="card" id="gettag">
            <h4>4.Get Tag</h4>
            <table class="table table-borderless">
                <tr>
                    <th class="card-title">Endpoint Url</th>
                    <th>HTTP Method</th>
                    <th>Rate Limit</th>
                    <th>Query Parameter</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>`/get-tag`</td>
                    <td class="text-primary-emphasis"><strong>GET</strong></td>
                    <td>10 reqs/min</td>
                    <td>
                        <li><strong>`url` <em>(string)</em>:</strong> The base URL of the website to crawl.</li>
                        <li><strong>`tag` <em>(string)</em>:</strong> The HTML tag which you want to extract.</li>
                    </td>
                    <td>Retrieves the text from the provided tag within the provided url.</td>
                </tr>
            </table>
            <table class="table table-borderless">
                <tr>
                    <th>Response</th>
                </tr>
                <tr>
                    <td>
                        <ul class="list-group list-group-horizontal">
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-success px-3 py-2"><strong>Success:</strong></span> JSON
                                    object containing extracted data from provided tag.</p>
                                <pre>
                                    <code class="text-white">
{
    "query_tag_data": "Extracted text data from provided tag from the url..."
}                                 
                                </code>
                            </pre>
                            </li>
                            <li class="list-group-item bg-dark">
                                <p class="text-white"><span
                                        class="badge text-bg-danger px-3 py-2"><strong>Error:</strong></span> JSON
                                    object with an error message.</p>
                                <pre>
                           <code class="text-white">
{
    "error": "Please provide a URL parameter in the query.",
    "error": "Please provide a tag parameter in the query."
}                              
                            </code>
                        </pre>
                            </li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>


        <!-- <div class="container" id="requestexamples">
            <h4>Request Examples</h4>
            <div >

              
            </div>
        </div> -->

        <div class="container" id="ratelimiting">
            <h4>Rate Limiting</h4>
            <div>
                <p>To ensure the stability and reliability of our API, we implement rate limiting to control the number
                    of requests a client can make to the server within a specified period. This helps to prevent
                    abuse and ensures fair usage among all users.</p>
                <ol>
                    <li>
                        <p>This API employs rate limiting to ensure fair usage and prevent abuse. The following rate
                            limits are enforced:</p>
                        <ul>
                            <li><strong> 200 </strong>requests <strong><em>per day</em></strong></li>
                            <li><strong> 50 </strong>requests <strong><em>per hour</em></strong></li>
                            <li><strong> 10 </strong>requests <strong><em>per minute per endpoint</em></strong></li>
                        </ul>
                    </li>
                    <li>
                        <p>Rate limits are applied per IP address.</p>
                    </li>
                    <li>
                        <p>If a user exceeds the rate limit, they will receive a <strong class="text-danger">429 <em>Too Many Requests</em></strong> response.</p>
                        <li class="list-group-item bg-dark p-3">
                            <p class="text-white"><span
                                    class="badge text-bg-danger px-3 py-2"><strong>Error:</strong></span> Rate Limit Exceeded</p>
                            <pre>
                       <code class="text-white">
{
    "error": "ratelimit exceeded",
    "message": "You have exceeded your rate limit. Please try again later."
}                                                       
                        </code>
                    </pre>
                        </li>
                    </li>
            </div>

        </div>

    </section>

    <section class="container" id="faq">
        <h3>FAQs</h3>
        
    </section>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
</body>

</html>